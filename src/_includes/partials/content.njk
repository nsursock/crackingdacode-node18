{#
<aside x-show="(!$store.auth.user || ($store.auth.user && !paymentMade)) && !processFinished" class="sticky top-0 mr-16 hidden h-screen flex-col items-center justify-center px-4 lg:flex">
  <iframe src="//www.effectivecreativeformats.com/watchnew?key=d65dbdeb4071afa0d476768b2c464c4a" width="160" height="600" frameborder="0" scrolling="no"></iframe>
</aside>
#}
<div
  x-intersect.once.ratio-0="Array.from($el.getElementsByClassName('md:float-right')).forEach((aside) => {
        aside.classList.remove('md:-mr-56'), aside.classList.add('md:-mr-24') });
        Array.from($el.getElementsByClassName('md:float-left')).forEach((aside) => { aside.classList.remove('md:-ml-56'),
        aside.classList.add('md:-ml-24') })"
  id="article"
  class="prose lg:prose-xl dark:prose-invert prose-p:text-justify container py-8 dark:text-gray-400"
>
  {{ content | safe }}
</div>
<div class="fixed inset-x-0 bottom-0 z-50 md:hidden">
  <div class="h-1 bg-indigo-500" :style="`width: ${percent}%`"></div>
</div>
<aside class="sticky top-0 hidden h-screen flex-col items-center justify-center px-14 dark:text-white md:flex">
  <span>Comment</span>
  <button @click="showCommentsPanel = true" class="relative inline-flex items-center rounded-lg border border-gray-300 bg-white p-3 text-sm font-medium text-gray-500 hover:bg-gray-50 dark:border-gray-800 dark:bg-gray-900 dark:hover:bg-gray-800">
    <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-6 w-6 text-gray-400" fill="none" viewbox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
    </svg>
  </button>
  <span class="mt-2">Share</span>
  {% include 'partials/sharing.njk' %}
  <div x-show="percent !== 100" x-transition:enter="transition transform ease-out duration-500 " x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="transition transform ease-in duration-500 " x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="bottom-5 left-5 inline-flex items-center justify-center overflow-hidden rounded-full">
    <!-- Building a Progress Ring: https://css-tricks.com/building-progress-ring-quickly/ -->
    <svg class="h-20 w-20">
      <circle class="text-gray-300 dark:text-gray-700" stroke-width="5" stroke="currentColor" fill="transparent" r="30" cx="40" cy="40" />
      <circle class="text-indigo-600" stroke-width="5" :stroke-dasharray="circumference" :stroke-dashoffset="circumference - percent / 100 * circumference" stroke-linecap="round" stroke="currentColor" fill="transparent" r="30" cx="40" cy="40" />
    </svg>
    <span class="absolute text-xl text-indigo-700" x-text="`${percent}%`"></span>
  </div>
</aside>

<aside x-show="(!$store.auth.user || ($store.auth.user && !paymentMade)) && !processFinished" x-data="{ showArticle: true }" class="sticky top-0 hidden h-screen flex-col items-center justify-center px-4 xl:flex">
  {# {% include './star-rating.njk' %} #} {#
  <div>{% set post = collections.blog | getCode %} {% include './postcard.njk' %}</div>

  <iframe src="//www.effectivecreativeformats.com/watchnew?key=9815aedb8007b470cb4b05d3b54d9fe3" width="160" height="600" frameborder="0" scrolling="no"></iframe>
  #}
</aside>
